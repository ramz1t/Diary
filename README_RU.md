# Diary

[README IN ENGLISH][en]

URL: [school-diary-service.herokuapp.com][diary]

Веб-проект школьного дневника

> В проекте испльзуется SQLite база данных. Это значит, что все ваши изменения сделанные на сайте будут удалены в течение часа, приносим извинения за предаставленные неудобства, но именно так взаимодействуют Heroku и SQLite :(
> Однако вы всегда можете клонировать проект и запустить сервер локально, мы оставим инструкции ниже.

На сайте имеются три раздела
- Admin
- Teacher
- Student

Все они работают как одно целое. 

1) Сначала вам нужно войти в учетную запись администратора и подключиться к вашей школе (оба они могут быть созданы только с нашей стороны разработчиков, поэтому, если вам нужно, используйте существующие)
2) После этого вы можете создавать группы, учителей, учеников и многое другое.
3) Пользовательский интерфейс прост, поэтому мы надеемся, что вы привыкнете к нему.
4) Для создания учетных записей учеников и учителей вам нужен секретный ключ, который вы можете загрузить со страниц экспорта в панели администратора.


## Logins and passwords

Мы настоятельно рекомендуем попробовать проект на своей машине, потому что, когда все пытаются использовать одну учетную запись, ничего хорошего не происходит. 

### Schools:

Name | City
---- | ----
1534 | Moscow
1234 | Omsk
1111 | Kiev

### Admins: 
Login | Password
---- | ----
1534@admin.com | Admin1534
1234@admin.com | Admin1234

### Teachers:
Login | Password
---- | ----
любая_фамилия_учителя_из_списка_ниже@teacher1534.com | Teacher12345678

> Babenko, Gusev, Antonova, Shumilov, Kuntina, Leonteva, Malygin, Chernov, Chirikov, Pchelintsev, Sharapova, Marchenkova
> 
> *фамилии в логине пишите с маленькой буквы

###  Students: 
Login | Password
---- | ----
любая_фамилия_ученика_из_списка_ниже@student.com | Student12345678

> Войдите в аккаунт любого учителя и скопируйте любую фамилию из списка класса.
>
> *фамилии в логине пишите с маленькой буквы


## Telegram Bot notifications

Вы можете настроить уведомления Telegram и настроить их позже в настройках аккаунта.

Чтобы связать чат с дневником, выполните три простых шага:
1) Войдите в свою новую учетную запись Diary в браузере.
2) Нажмите *Написать боту*
3) Ответить на вопросы ботов

Вот и все ✅ Теперь вы можете перезагрузить веб-страницу и выбрать, какие уведомления вы хотите получать (вы всегда можете отключить их)

> Бот может игнорировать ваше сообщение `/start`, опять же большое спасибо базовому подразделу heroku :( Чтобы исправить это, просто откройте [этот URL][bot] и подождите, пока он загрузится (если на сайте появилась ошибка 404, это также свидетельствует, что все работает), затем попробуйте снова отправить сообщение

## Локальный запуск

- Клонируте проект 
- Настройте Python3 и его библиотеки с помощью команды в терминал `pip install -r 'requirements.txt'`
- Добавьте .env (*Внимание! Для оповещений телеграмм добавьте свой токен бота, то же самое для posgresql, единственное, что доступно, это секретный ключ HASH*)
- Сделайте ревизию базы данных `alembic upgrade head` или [скачайте нашу базу данных][db]
- Start the server!


## P.S
Надеемся, что вам понравится этот проект :) Мы еще молоды и готовы становиться все лучше и лучше. Если вы обнаружили, что что-то не работает или хотите что-то сказать, вы можете найти форму обратной связи в нижнем колонтитуле каждой страницы.

>p.s. 2: немного денег на кофе тоже приветствуется ✨

[diary]:<https://school-diary-service.herokuapp.com>
[bot]:<https://diary-telegram.herokuapp.com>
[en]:<README.md>
[db]:<https://disk.yandex.ru/d/3tiUdF4uz4Xgtw>
